<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Available Flights</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <header class="top-bar">
        <h2>Flight Booking System</h2>
        <a href="login.html">Logout</a>
    </header>

    <div class="container">
        <h3>Available Flights</h3>

        <table id="flightsTable">
            <thead>
                <tr>
                    <th>Flight No</th>
                    <th>Origin</th>
                    <th>Destination</th>
                    <th>Departure</th>
                    <th>Arrival</th>
                    <th>Seats</th>
                </tr>
            </thead>
            <tbody>
                <!-- Flights will be inserted here -->
            </tbody>
        </table>
    </div>

<script>
    fetch("http://127.0.0.1:8000/api/flights")
        .then(response => response.json())
        .then(data => {
            const tableBody = document.querySelector("#flightsTable tbody");

            data.forEach(flight => {
                const row = `
                    <tr>
                        <td>${flight.flight_number}</td>
                        <td>${flight.origin}</td>
                        <td>${flight.destination}</td>
                        <td>${flight.departure_time}</td>
                        <td>${flight.arrival_time}</td>
                        <td>${flight.seats}</td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        })
        .catch(error => {
            console.error("Error fetching flights:", error);
        });
</script>

</body>
</html>
